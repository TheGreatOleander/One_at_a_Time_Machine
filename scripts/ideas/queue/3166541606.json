{"url":"https://api.github.com/repos/vercel/next.js/issues/80779","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/80779/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/80779/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/80779/events","html_url":"https://github.com/vercel/next.js/issues/80779","id":3166541606,"node_id":"I_kwDOBC3Cis68vZcm","number":80779,"title":"DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.","user":{"login":"utkydz","id":34220513,"node_id":"MDQ6VXNlcjM0MjIwNTEz","avatar_url":"https://avatars.githubusercontent.com/u/34220513?v=4","gravatar_id":"","url":"https://api.github.com/users/utkydz","html_url":"https://github.com/utkydz","followers_url":"https://api.github.com/users/utkydz/followers","following_url":"https://api.github.com/users/utkydz/following{/other_user}","gists_url":"https://api.github.com/users/utkydz/gists{/gist_id}","starred_url":"https://api.github.com/users/utkydz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/utkydz/subscriptions","organizations_url":"https://api.github.com/users/utkydz/orgs","repos_url":"https://api.github.com/users/utkydz/repos","events_url":"https://api.github.com/users/utkydz/events{/privacy}","received_events_url":"https://api.github.com/users/utkydz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-23T02:18:41Z","updated_at":"2025-06-23T11:45:52Z","closed_at":null,"author_association":"NONE","type":{"id":1930995,"node_id":"IT_kwDOAOSnPM4AHXbz","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T15:36:35Z","updated_at":"2024-07-26T10:33:22Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"body":"### Link to the code that reproduces this issue\n\nhttps://github.com/utkydz/nextjs-bug-report-deprecation-util-extend\n\n### To Reproduce\n\n- create new app with create-next-app with recommended settings.\n- add any rewrites rules to next.config file.\n``` javascript\n  rewrites: async () => [\n    {\n      source: '/api/login',\n      destination: 'https://www.domain.com/api/remote-login'\n    },\n    {\n      source: '/api/:path*',\n      destination: 'https://www.domain.com/api/:path*'\n    },\n    // ... doesn't matter what kind of rewrites it is\n  ]\n```\n- run in dev mode with `next dev` or `next dev --turbo` (not prod mode)\n- waiting until to compiled message and shown the page on browser\n- console output should be observed\n- the following warning message is seen\n``` javascript\n(node:33378) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.\n(Use `node --trace-deprecation ...` to show where the warning was created)\n```\n- run in dev mode again but this time with `NODE_OPTIONS=\"--trace-deprecation\"` for `next dev` or `next dev --turbo`\n- waiting until to compiled message and shown the page on browser\n- console output should be observed\n- the following warning message is seen\n``` javascript\n(node:34419) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.\n    at ProxyServer.<anonymous> (MY_PROJECT_PATH/node_modules/next/dist/compiled/http-proxy/index.js:13:2607)\n    at proxyRequest (MY_PROJECT_PATH/node_modules/next/dist/server/lib/router-utils/proxy-request.js:108:15)\n    at handleRequest (MY_PROJECT_PATH/node_modules/next/dist/server/lib/router-server.js:340:61)\n    at async requestHandlerImpl (MY_PROJECT_PATH/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (MY_PROJECT_PATH/node_modules/next/dist/server/lib/start-server.js:158:13)\n```\n\n### Current vs. Expected behavior\n\ncompile and run without any warnings\n\n### Provide environment information\n\n```bash\nOperating System:\n  Platform: darwin\n  Arch: arm64\n  Version: Darwin Kernel Version 24.5.0: Tue Apr 22 19:54:49 PDT 2025; root:xnu-11417.121.6~2/RELEASE_ARM64_T6000\n  Available memory (MB): 16384\n  Available CPU cores: 8\nBinaries:\n  Node: 22.16.0\n  npm: 10.9.2\n  Yarn: 1.22.22\n  pnpm: N/A\nRelevant Packages:\n  next: 15.3.4 // Latest available version is detected (15.3.4).\n  eslint-config-next: 15.3.4\n  react: 19.1.0\n  react-dom: 19.1.0\n  typescript: 5.8.3\nNext.js Config:\n  output: N/A\n```\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/80779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/80779/timeline","performed_via_github_app":null,"state_reason":null,"score":1.0}
