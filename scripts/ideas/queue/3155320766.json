{"url":"https://api.github.com/repos/vercel/next.js/issues/80641","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/80641/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/80641/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/80641/events","html_url":"https://github.com/vercel/next.js/issues/80641","id":3155320766,"node_id":"I_kwDOBC3Cis68El--","number":80641,"title":"Infinite re-render when navigating between Intercepting Routes","user":{"login":"openchat-im","id":16678506,"node_id":"MDQ6VXNlcjE2Njc4NTA2","avatar_url":"https://avatars.githubusercontent.com/u/16678506?v=4","gravatar_id":"","url":"https://api.github.com/users/openchat-im","html_url":"https://github.com/openchat-im","followers_url":"https://api.github.com/users/openchat-im/followers","following_url":"https://api.github.com/users/openchat-im/following{/other_user}","gists_url":"https://api.github.com/users/openchat-im/gists{/gist_id}","starred_url":"https://api.github.com/users/openchat-im/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openchat-im/subscriptions","organizations_url":"https://api.github.com/users/openchat-im/orgs","repos_url":"https://api.github.com/users/openchat-im/repos","events_url":"https://api.github.com/users/openchat-im/events{/privacy}","received_events_url":"https://api.github.com/users/openchat-im/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6834840742,"node_id":"LA_kwDOBC3Cis8AAAABl2Nkpg","url":"https://api.github.com/repos/vercel/next.js/labels/Parallel%20&%20Intercepting%20Routes","name":"Parallel & Intercepting Routes","color":"1C2649","default":false,"description":"Related to Parallel and/or Intercepting routes."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-18T03:15:16Z","updated_at":"2025-06-18T03:15:29Z","closed_at":null,"author_association":"NONE","type":{"id":1930995,"node_id":"IT_kwDOAOSnPM4AHXbz","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T15:36:35Z","updated_at":"2024-07-26T10:33:22Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"body":"### Link to the code that reproduces this issue\n\nhttps://codesandbox.io/p/devbox/red-night-gzxtd3?workspaceId=ws_6n6a3ybSgRKyAi1WWXUV6w\n\n### To Reproduce\n\nI encountered an issue when using Intercepting Routes for modal pages in the App Router. Here's the flow to reproduce:\n\nReproduction Steps:\n\n\n\nNavigate to / (or any normal page).\n\n\nOpen a modal by navigating to an intercepting route like (..)signin.\n\n\nFrom there, navigate to another intercepting route, e.g. (..)signup.\n\n\nRefresh the browser while on the (..)signup route.\n\n\nClick the browser's back button to go back to (..)signin.\n\n### Current vs. Expected behavior\n\nExpected behavior:\n\nThe app should correctly render the (..)signin modal once.\n\nActual behavior:\n\nThe component at (..)signin re-renders infinitely, causing performance issues or even a crash.\n\nAdditional context:\n\n\n\nThis only happens after refreshing the second modal route ((..)signup).\n\n\nThe re-render does not stop; console.log in the modal component confirms it gets called repeatedly.\n\n\nIt seems like after a refresh, the browser history and route state get misaligned, causing router.back() or the transition to improperly remount or retrigger the intercepting route.\n\n### Provide environment information\n\n```bash\nOperating System:\n  Platform: darwin\n  Arch: arm64\n  Version: Darwin Kernel Version 24.3.0: Thu Jan  2 20:24:16 PST 2025; root:xnu-11215.81.4~3/RELEASE_ARM64_T6000\n  Available memory (MB): 16384\n  Available CPU cores: 8\nBinaries:\n  Node: 22.11.0\n  npm: 10.9.0\n  Yarn: N/A\n  pnpm: 9.12.3\nRelevant Packages:\n  next: 15.3.3 // Latest available version is detected (15.3.3).\n  eslint-config-next: N/A\n  react: 19.1.0\n  react-dom: 19.1.0\n  typescript: 5.8.2\nNext.js Config:\n  output: N/A\n```\n\n### Which area(s) are affected? (Select all that apply)\n\nParallel & Intercepting Routes\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/80641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/80641/timeline","performed_via_github_app":null,"state_reason":null,"score":1.0}
