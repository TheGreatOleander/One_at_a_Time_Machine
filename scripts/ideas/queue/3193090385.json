{"url":"https://api.github.com/repos/vercel/next.js/issues/81130","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/81130/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/81130/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/81130/events","html_url":"https://github.com/vercel/next.js/issues/81130","id":3193090385,"node_id":"I_kwDOBC3Cis6-UrFR","number":81130,"title":"Scripts with \"beforeInteractive\" strategy don't render CSS classes correctly","user":{"login":"gregrafferty","id":944366,"node_id":"MDQ6VXNlcjk0NDM2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/944366?v=4","gravatar_id":"","url":"https://api.github.com/users/gregrafferty","html_url":"https://github.com/gregrafferty","followers_url":"https://api.github.com/users/gregrafferty/followers","following_url":"https://api.github.com/users/gregrafferty/following{/other_user}","gists_url":"https://api.github.com/users/gregrafferty/gists{/gist_id}","starred_url":"https://api.github.com/users/gregrafferty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregrafferty/subscriptions","organizations_url":"https://api.github.com/users/gregrafferty/orgs","repos_url":"https://api.github.com/users/gregrafferty/repos","events_url":"https://api.github.com/users/gregrafferty/events{/privacy}","received_events_url":"https://api.github.com/users/gregrafferty/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3529098642,"node_id":"LA_kwDOBC3Cis7SWcWS","url":"https://api.github.com/repos/vercel/next.js/labels/Script%20(next/script)","name":"Script (next/script)","color":"1CE4CA","default":false,"description":"Related to Next.js Script Optimization."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-07-01T16:20:12Z","updated_at":"2025-07-01T16:20:25Z","closed_at":null,"author_association":"NONE","type":{"id":1930995,"node_id":"IT_kwDOAOSnPM4AHXbz","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T15:36:35Z","updated_at":"2024-07-26T10:33:22Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"body":"### Link to the code that reproduces this issue\n\nhttps://codesandbox.io/p/devbox/zvypcr\n\n### To Reproduce\n\n1. Run the sandbox link\n2. Inspect the rendered page\n3. In the console there will be two logs, one for the beforeInteractive example (which will have and empty class list) and another for afterInteractive (which will show the its class list correctly).\n4. You can also search for a script with the id of 'before-example' to see that it has 'classname' instead of 'class'\n\n### Current vs. Expected behavior\n\nWhen using the NextJS Script component with a strategy of 'beforeInteractive' CSS classes that have been added to the component do not render correctly.\n\nCurrent:\n\n```html\n<script classname=\"example-class\" id=\"example\">console.log('Hello');</script>\n```\n\nNote the 'classname' instead of 'class'.\n\nExpected:\n\n```html\n<script class=\"example-class\" id=\"example\">console.log('Hello');</script>\n```\n\nScripts with other strategies appear to work as expected.\n\n### Provide environment information\n\n```bash\nOperating System:\n  Platform: darwin\n  Arch: arm64\n  Version: Darwin Kernel Version 24.5.0: Tue Apr 22 19:54:25 PDT 2025; root:xnu-11417.121.6~2/RELEASE_ARM64_T6020\n  Available memory (MB): 32768\n  Available CPU cores: 12\nBinaries:\n  Node: 20.19.2\n  npm: 10.8.2\n  Yarn: N/A\n  pnpm: N/A\nRelevant Packages:\n  next: 15.3.2 // There is a newer version (15.3.4) available, upgrade recommended!\n  eslint-config-next: 15.3.1\n  react: 19.1.0\n  react-dom: 19.1.0\n  typescript: 5.8.3\nNext.js Config:\n  output: standalone\n```\n\n### Which area(s) are affected? (Select all that apply)\n\nScript (next/script)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next start (local)\n\n### Additional context\n\nTested in 15.3.2 in our current project and 15.2 on Code Sandbox with the same results. This has also been deployed in our production AWS ECS environment with the same result","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/81130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/81130/timeline","performed_via_github_app":null,"state_reason":null,"score":1.0}
